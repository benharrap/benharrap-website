---
title: "Stata to R code translations"
author: "Ben Harrap"
date: 2024-07-03
output:
    blogdown::html_page:
      toc: true
categories: ["Academic", "Programming"]
tags: ["Programming","Rstats","RMarkdown","Research","Stata"]
---

```{r echo = F, warning = F, message = F}
library(knitr)
library(tidyverse)
```


Making the transition from Stata to R can be challenging as the two languages are quite different. My initial training in biostatistics was using Stata, however I made a concerted effort to learn R by doing my entire PhD using the language. There are some things that I still struggle with in R that I found a lot easier in Stata, but that's ok - we're all still learning! 

This post acts as a reference to provide Stata and R code side-by-side to help people switching between the two languages. There's a few things to note before diving in:

- All examples are based on the `auto` dataset from Stata.
  - In Stata this is accessed using `sysuse auto`.
  - In R this is accessed by reading the Stata dataset using `auto <- haven::read_dta("path-to-stata/auto.dta")`.
- I've tested these examples using Stata version 15.
- R packages are stated where relevant, however `tidyverse` is generally used over base R.
- The ChatGPT ![Stata to R Code Translator](https://chatgpt.com/g/g-dDlKTFvbT-stata-to-r-code-translator){target="_blank"} provided some assistance.

<!-- ## Data cleaning -->



## Regression

The correspondences here represent the models that you need to run to generate the same results, not the code that will produce the same output. If you simply run the R code it will output something minimal, instead you will want to assign the model to an object. For the linear regression example, this would be `model <- lm(price ~ mpg, data = auto)` followed by using the summary function on that object `summary(model)`.

```{r, echo = F}
tibble(
  Model = "Simple linear regression",
  Stata = "`reg price mpg`",
  R = "`lm(price ~ mpg, data = auto)`"
) |> 
  add_row(
    Model = "Logistic regression",
    Stata = "`logit foreign mpg`",
    R = "`glm(foreign ~ mpg, data = auto, family = \"binomial\")`"
  ) |> 
  add_row(
    Model = "",
    Stata = "``",
    R = "``"
  ) |> 
  kable()
```

## Generalised estimating equations



## Mixed-effects models



<!-- ## Data visualisation -->

<!-- ### Histograms -->



<!-- ### Density plots -->



<!-- ### Bar charts -->



<!-- ### Line charts -->



<!-- ### Box plots -->

