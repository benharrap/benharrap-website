<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CV – Ben Harrap</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<link href="./img/randy.png" rel="icon" type="image/png">
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-76a1943aa528a4846e4152a694de7f96.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d6c0234beb521fbcf326a66e2c93b7a4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-1.2.0/all.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-1.2.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@100..900&amp;family=Nunito:ital,wght@0,200..1000;1,200..1000&amp;display=swap" rel="stylesheet">
<script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="benharrap" data-description="Support me on Buy me a coffee!" data-message="" data-color="#ffddd6" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XYMGR0N804"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XYMGR0N804');
</script>


<meta property="og:title" content="CV – Ben Harrap">
<meta property="og:description" content="">
<meta property="og:image" content="img/randy.png">
<meta property="og:site_name" content="Ben Harrap">
<meta property="og:image:alt" content="A white and fawn greyhound with its tongue poking out, wearing a black cowboy hat and red neckerchief">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Ben Harrap</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./post.html"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./cv.html" aria-current="page"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#skills" id="toc-skills" class="nav-link active" data-scroll-target="#skills">Skills</a></li>
  <li><a href="#qualifications" id="toc-qualifications" class="nav-link" data-scroll-target="#qualifications">Qualifications</a></li>
  <li><a href="#employment" id="toc-employment" class="nav-link" data-scroll-target="#employment">Employment</a>
  <ul class="collapse">
  <li><a href="#biostatistician-data-manager-research-fellow" id="toc-biostatistician-data-manager-research-fellow" class="nav-link" data-scroll-target="#biostatistician-data-manager-research-fellow">Biostatistician, Data Manager, Research Fellow</a></li>
  <li><a href="#quantitative-social-scientist-research-fellow" id="toc-quantitative-social-scientist-research-fellow" class="nav-link" data-scroll-target="#quantitative-social-scientist-research-fellow">Quantitative Social Scientist, Research Fellow</a></li>
  <li><a href="#phd-candidate" id="toc-phd-candidate" class="nav-link" data-scroll-target="#phd-candidate">PhD Candidate</a></li>
  <li><a href="#biostatistician" id="toc-biostatistician" class="nav-link" data-scroll-target="#biostatistician">Biostatistician</a></li>
  </ul></li>
  <li><a href="#volunteering" id="toc-volunteering" class="nav-link" data-scroll-target="#volunteering">Volunteering</a>
  <ul class="collapse">
  <li><a href="#wearer-of-many-hats" id="toc-wearer-of-many-hats" class="nav-link" data-scroll-target="#wearer-of-many-hats">Wearer of Many Hats</a></li>
  </ul></li>
  <li><a href="#research-supervision" id="toc-research-supervision" class="nav-link" data-scroll-target="#research-supervision">Research supervision</a>
  <ul class="collapse">
  <li><a href="#current" id="toc-current" class="nav-link" data-scroll-target="#current">Current</a></li>
  <li><a href="#completed" id="toc-completed" class="nav-link" data-scroll-target="#completed">Completed</a></li>
  </ul></li>
  <li><a href="#awards" id="toc-awards" class="nav-link" data-scroll-target="#awards">Awards</a></li>
  <li><a href="#memberships-and-accreditations" id="toc-memberships-and-accreditations" class="nav-link" data-scroll-target="#memberships-and-accreditations">Memberships and Accreditations</a></li>
  <li><a href="#professional-development" id="toc-professional-development" class="nav-link" data-scroll-target="#professional-development">Professional Development</a>
  <ul class="collapse">
  <li><a href="#workshops" id="toc-workshops" class="nav-link" data-scroll-target="#workshops">Workshops</a></li>
  <li><a href="#conferences" id="toc-conferences" class="nav-link" data-scroll-target="#conferences">Conferences</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">CV</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="skills" class="level2">
<h2 class="anchored" data-anchor-id="skills">Skills</h2>
<div class="columns centered">
<div class="column" style="width:30%;">
<p><i class="fa-solid fa-code" aria-label="code"></i></p>
<p><strong>R, SQL, Stata</strong></p>
<p>R is my preferred language and I’m proficient with SQL and Stata</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><i class="fa-solid fa-comments" aria-label="comments"></i></p>
<p><strong>Consulting</strong></p>
<p>There are a lot of good questions out there being asked, I like helping figure out how to answer them</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><i class="fa-solid fa-recycle" aria-label="recycle"></i></p>
<p><strong>Reproducible research</strong></p>
<p>From start to finish I like my make sure my reports are reproducible and as automated as possible</p>
</div>
</div>
<div class="columns centered">
<div class="column" style="width:30%;">
<p><i class="fa-solid fa-bath" aria-label="bath"></i></p>
<p><strong>Data cleaning</strong></p>
<p>Who doesn’t like taking some dirty data and giving it a good scrub</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><i class="fa-solid fa-chart-pie" aria-label="chart-pie"></i></p>
<p><strong>Data visualisation</strong></p>
<p>Sure, pictures speak a thousand words, but they might take a thousand lines of code too</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><i class="fa-solid fa-magnifying-glass" aria-label="magnifying-glass"></i></p>
<p><strong>Googling</strong></p>
<p>The majority of my R knowledge is self-taught, so I’d say my Google-Fu is pretty good</p>
</div>
</div>
</section>
<section id="qualifications" class="level2">
<h2 class="anchored" data-anchor-id="qualifications">Qualifications</h2>
<div class="columns centered">
<div class="column" style="width:30%;">
<p><i class="fa-solid fa-graduation-cap" aria-label="graduation-cap"></i></p>
<p><strong>Doctor of Philosophy</strong></p>
<p>The University of Melbourne, 2025</p>
<p><em>The Health of Aboriginal Children born in Western Australia in the Context of Out-of-Home Care</em></p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><i class="fa-solid fa-graduation-cap" aria-label="graduation-cap"></i></p>
<p><strong>Master of Biostatistics</strong></p>
<p>The University of Melbourne, 2018</p>
<p>Electives in survival analysis, modelling longitudinal and correlated data, and survey design and analysis</p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><i class="fa-solid fa-graduation-cap" aria-label="graduation-cap"></i></p>
<p><strong>Bachelor of Arts (Honours)</strong></p>
<p>University of Western Australia, 2015</p>
<p>Double major in psychology, minor in anthropology</p>
</div>
</div>
</section>
<section id="employment" class="level2">
<h2 class="anchored" data-anchor-id="employment">Employment</h2>
<section id="biostatistician-data-manager-research-fellow" class="level3">
<h3 class="anchored" data-anchor-id="biostatistician-data-manager-research-fellow">Biostatistician, Data Manager, Research Fellow</h3>
<ul>
<li>Yardhura Walani, Australian National University
<ul>
<li>October 2024 – Present</li>
</ul></li>
</ul>
<p>My work focuses predominantly on the Mayi Kuwayu Study, where I developed a data cleaning pipeline using R that harmonises the raw paper and online survey data, incorporates results of our data audits, performs a series of data validation steps, derives new variables and survey weights, integrates external data, and outputs cleaned datasets. Using this pipeline, I also report on question performance and missingness to inform our questionnaire redesign process.</p>
<p>I also provide my expertise to multiple other studies and research groups, as well as supervise graduate students and conduct survey methodology research of my own. In my first few months I also took the lead on finishing the study’s operational manual. In doing this, I converted the existing Word draft into a HTML document using Quarto, making the manual more user-friendly, improving the interface, and making the maintenance of documentation easier.</p>
</section>
<section id="quantitative-social-scientist-research-fellow" class="level3">
<h3 class="anchored" data-anchor-id="quantitative-social-scientist-research-fellow">Quantitative Social Scientist, Research Fellow</h3>
<ul>
<li>Centre for Indigenous Policy Research, Australian National University
<ul>
<li>October 2023 – October 2024</li>
</ul></li>
</ul>
<p>In my short time at CIPR I worked on two major reports. For the first, I examined social and emotional wellbeing for Aboriginal and Torres Strait Islander children and youth in the Longitudinal Study of Indigenous Children (LSIC). Starting with an Aboriginal and Torres Strait Islander theory of social and emotional wellbeing, I used exploratory factor analysis and structural equation modelling to map data items in LSIC to different domains of social and emotional wellbeing.</p>
<p>The second was a technical report commissioned by the Productivity Commission and Coalition of Peaks, where my co-authors and I proposed a more statistically rigorous method for measuring progress toward Closing the Gap targets. The report covered improvements in measuring progress, recommendations for increasing the quality, frequency, and relevance of data collected for these measures, and guidelines on how to communicate probabilistic statements from statistical models in easy to understand ways.</p>
</section>
<section id="phd-candidate" class="level3">
<h3 class="anchored" data-anchor-id="phd-candidate">PhD Candidate</h3>
<ul>
<li>Indigenous Health and Epidemiology Group, University of Melbourne
<ul>
<li>March 2020 – June 2024</li>
</ul></li>
</ul>
<p>Throughout my PhD I translated findings from Aboriginal-led qualitative research and community reference group conversations into questions I could address using linked administrative datasets. This included how contacts by child protective services are clustered within sibling groups, the prevalence and cumulative incidence of mental and neurodevelopmental health conditions, and estimating the effect of placement in out-of-home care on rates of potentially preventable hospitalisations.</p>
<p>I used a variety of statistical methods, including descriptive statistics, various regression models, survival analysis, and matching methods. All of my research was written in R and RMarkdown, where I created a reproducible pipeline from data cleaning through to multiple journal articles and my final thesis.</p>
</section>
<section id="biostatistician" class="level3">
<h3 class="anchored" data-anchor-id="biostatistician">Biostatistician</h3>
<ul>
<li>Deakin University
<ul>
<li>August 2022 – October 2023</li>
</ul></li>
<li>Grampians Health
<ul>
<li>September 2021 – October 2023</li>
</ul></li>
</ul>
<p>In these two biostatistician roles I acted as the sole statistical expert in clinical research and academic settings. Across these roles I provided study design and statistical oversight for a randomised trials, including sample size calculations, developing statistical analysis plans and randomisation schemes, advising on technical challenges arising, and analysing trial data. I also developed educational materials and delivered seminars for clinicians on the topic of good research practices.</p>
<!-- ### Research assistant -->
<!-- -   Peter Doherty Institute for Infection and Immunity, University of Melbourne -->
<!--     -   September 2019 – January 2023 -->
<!-- As part of the International and Immigrant Health Group I provided data and statistical support to the research team. Major achievements included the development of a REDCap database and provision of on-site research training for local staff for an evaluation of a dietary and lifestyle intervention in a remote Aboriginal community in the Northern Territory, and a systematic review of type 2 diabetes in resettled refugee and asylum seeker populations. -->
<!-- -   Centre for Health Policy, University of Melbourne -->
<!--     -   April 2018 – January 2022 -->
<!-- I supported Emeritus Professor Lesleyanne Hawthorne in the examination of skilled migration to Australia. My work revolved around sourcing data, understanding its complexities, and summarising it to capture quantitative trends in skilled migration to Australia. ABS data products, including the census, were used, as well as administrative data from the Department of Home Affairs, the Australian Health Practitioner Regulation Agency, and the Occupational English Test. We also collaborated with Canadian colleagues to produce a comparison between Australia and Canada's migration programmes. -->
<!-- -   Melbourne Institute, University of Melbourne -->
<!--     -   May 2019 – February 2020 -->
<!-- In this short-term role I prepared the final wave of the Medicine in Australia: Balancing Employment and Life survey for release. This involved data cleaning, consistency checking, and updating the user manual to reflect changes to the survey, a process which was technical and required great attention to detail. I was also the data custodian, managing the secure transfer of data for research purposes. This role was challenging as I inherited a great deal of code with minimal documentation, however I spent the time to understand how it worked, added the necessary updates, and wrote my own documentation for future reference. -->
<!-- ### Biostatistician -->
<!-- -   Melbourne EpiCentre, Royal Melbourne Hospital -->
<!--     -   November 2017 – May 2019 -->
<!-- I worked as a statistical consultant providing support to clinicians engaged in medical research. The consulting process began with meetings to identify the clinicians' specific research questions and how they could be answered with data and statistical techniques, and concluded with the analysis and writing up of results suitable for publication. I also set up a REDCap database for the IMPETUS-D multi-centre randomised clinical trial and managed the integration of existing administrative data into the database. -->
</section>
</section>
<section id="volunteering" class="level2">
<h2 class="anchored" data-anchor-id="volunteering">Volunteering</h2>
<section id="wearer-of-many-hats" class="level3">
<h3 class="anchored" data-anchor-id="wearer-of-many-hats">Wearer of Many Hats</h3>
<ul>
<li>Statistical Society of Australia
<ul>
<li>December 2018 – Present</li>
</ul></li>
</ul>
<p>Currently I’m the Vice President of the SSA. Since joining back in 2018, I have taken on many different voluntary roles, including:</p>
<ul>
<li>Secretary and then President of the Victorian and Tasmanian Branch</li>
<li>Coordinator of the 2021 Early Career and Student Statisticians Conference</li>
<li>Committee member and Secretary of the Equity, Diversity, and Inclusion (EDI) committee</li>
<li>Committee member of the Reconciliation Action Plan committee</li>
<li>Mentor in the SSA’s Mentoring Program</li>
</ul>
<p>Across these roles I coordinated strategic planning, managed teams, maintained relationships with external organisations, surveyed and reported on EDI in the Australian statistics profession, and wrote EDI recommendations for the Society.</p>
</section>
</section>
<section id="research-supervision" class="level2">
<h2 class="anchored" data-anchor-id="research-supervision">Research supervision</h2>
<section id="current" class="level3">
<h3 class="anchored" data-anchor-id="current">Current</h3>
<p>Doctor of Philosophy — Sedgwick, M., <em>Understanding the Health and Wellbeing of Aboriginal and Torres Strait Islander Peoples with Disability</em>.</p>
<p>Master of Applied Epidemiology — Moreton, K., <em>TBC</em>.</p>
</section>
<section id="completed" class="level3">
<h3 class="anchored" data-anchor-id="completed">Completed</h3>
<p>Psychology Honours — Madeley, B., <em>Intentions and preferences of adults with diabetes toward seeking psychological support</em>, 2022.</p>
<p>Psychology Honours — Chhatiawala, A., <em>Differences in coping self-efficacy between adults with type 1 and type 2 diabetes and the association with emotional-well-being</em>, 2022.</p>
<p>Master of Medicine — Haussegger, Z., <em>Sleep and Mental Health in Aboriginal and Torres Strait Islander Young People: A retrospective data analysis</em>, 2021.</p>
<p>Master of Medicine — Moffroid, H., <em>‘Next Generation Youth Well-being Study:’ The importance of cultural connectedness for Aboriginal adolescent health and wellbeing.</em>, 2021.</p>
</section>
</section>
<section id="awards" class="level2">
<h2 class="anchored" data-anchor-id="awards">Awards</h2>
<p>2025 Bruce Lord Award for Excellence in Research Methodology — Australian Association of Social Workers</p>
<p>2023 T-shirt design competition winner — Australian Statistical Conference</p>
<p>2022 President’s Award for Leadership in Statistics — Statistical Society of Australia</p>
<p>2021 T-shirt design competition winner — Statistical Society of Australia</p>
</section>
<section id="memberships-and-accreditations" class="level2">
<h2 class="anchored" data-anchor-id="memberships-and-accreditations">Memberships and Accreditations</h2>
<p>Statistical Society of Australia</p>
<p>Accredited Graduate Statistician, Statistical Society of Australia</p>
<p>International Population Data Linkage Network</p>
<p>International Society of Non-Binary Scientists</p>
</section>
<section id="professional-development" class="level2">
<h2 class="anchored" data-anchor-id="professional-development">Professional Development</h2>
<section id="workshops" class="level3">
<h3 class="anchored" data-anchor-id="workshops">Workshops</h3>
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section">2024</h4>
<p>Spatial Analysis in R — Australian Consortium for Social and Political Research Incorporated</p>
<p>Working Smarter with Targets presented by Miles McBain — Statistical Society of Australia</p>
</section>
<section id="section-1" class="level4">
<h4 class="anchored" data-anchor-id="section-1">2021</h4>
<p>A Crash Course in SQL — Statistical Society of Australia</p>
<p>AMSI Winter School for Statistical Data Science — Australian Mathematical Sciences Institute</p>
</section>
<section id="section-2" class="level4">
<h4 class="anchored" data-anchor-id="section-2">2020</h4>
<p>Data wrangling with R — Statistical Society of Australia</p>
<p>Data visualisation with R — Statistical Society of Australia</p>
<p>Semiparametric regression in R — Statistical Society of Australia</p>
</section>
</section>
<section id="conferences" class="level3">
<h3 class="anchored" data-anchor-id="conferences">Conferences</h3>
<section id="section-3" class="level4">
<h4 class="anchored" data-anchor-id="section-3">2025</h4>
<p>Global Indigenous Data Sovereignty Conference — Attendee</p>
</section>
<section id="section-4" class="level4">
<h4 class="anchored" data-anchor-id="section-4">2023</h4>
<p>Australian Statistical Conference and Australian Conference on Teaching Statistics — Attendee</p>
<p>Aboriginal and Torres Strait Islander Mathematics Alliance Conference — Attendee</p>
</section>
<section id="section-5" class="level4">
<h4 class="anchored" data-anchor-id="section-5">2022</h4>
<p>International Population Data Linkage Network Conference — Presenter</p>
</section>
<section id="section-6" class="level4">
<h4 class="anchored" data-anchor-id="section-6">2021</h4>
<p>9th SNAICC Annual Conference — Attendee</p>
<p>The Early Career and Student Statisticians Conference — Presenter</p>
</section>
<section id="section-7" class="level4">
<h4 class="anchored" data-anchor-id="section-7">2020</h4>
<p>International Population Data Linkage Network Conference — Attendee</p>
</section>
<section id="section-8" class="level4">
<h4 class="anchored" data-anchor-id="section-8">2018</h4>
<p>International Metropolis Conference — Presenter</p>
<p>Joint International Society for Clinical Biostatistics and Australian Statistical Conference — Attendee</p>
<p>UseR! Conference Brisbane — Attendee</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>